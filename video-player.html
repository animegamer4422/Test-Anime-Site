<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Anime Site - Video Player</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/artplayer/2.5.1/artplayer.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
	<link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/artplayer@2.4.0/dist/artplayer.css" />
  <script src="https://unpkg.com/artplayer/dist/artplayer.js"></script>
  
</head>
<body>
	<header>
		<div class="header-wrapper">
            <a href="index.html">
                <div class="logo">Anime Site</div>
            </a>
		</div>
	</header>
	<main>
		<section class="video-section" id="video-section">
			<div class="container">
				<h2>Video Section</h2>
				<div id="artplayer" class="artplayer"></div>
			</div>
			
            <script>
                // Get the selected episode URL from sessionStorage
                const selectedEpisodeUrl = sessionStorage.getItem('selectedEpisodeUrl');
              
                // Check if the URL is set
                if (selectedEpisodeUrl) {
                  // Print the URL to the console for debugging
                  console.log('Episode URL from sessionStorage:', selectedEpisodeUrl);
              
                  // Initialize the Art Player video player
                  const art = new Artplayer({
    container: '#artplayer',
    url: selectedEpisodeUrl,
    autoplay: false,
    poster: '',
    loop: false,
    moreVideoAttr: {
        crossOrigin: 'anonymous',
    },
    setting: true,
    layers: [
        {
            html: `
                <button class="artplayer-controller-icon" id="customPIPButton">
                    <svg viewBox="0 0 24 24"><path d="M7 21H5V9h14v12H7zm5-14c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 2a1 1 0 100 2 1 1 0 000-2z" /></svg>
                </button>
            `,
            click: (player) => {
                player.video.requestPictureInPicture();
            },
        },
    ],
});


                } else {
                  // Redirect back to index.html if no episode URL is found
                  window.location.href = 'index.html';
                }
              </script>
              
            
		</section>
	</main>

	<footer>
		<div class="footer-wrapper">
			<p>&copy; Anime Site 2023</p>
		</div>
	</footer>
</body>
</html>
